From c97e5318bcaec9d808dbb1aa7fb11f6be29c8990 Mon Sep 17 00:00:00 2001
From: rldev <bjorn@riftlabs.com>
Date: Tue, 15 Oct 2019 12:48:52 +0200
Subject: [PATCH] Add pwm output p8_13"

---
 arch/arm/boot/dts/pwm_P8_13.dtsi | 28 ++++++++++++++++++++++++++++
 1 file changed, 28 insertions(+)
 create mode 100644 arch/arm/boot/dts/pwm_P8_13.dtsi

diff --git a/arch/arm/boot/dts/pwm_P8_13.dtsi b/arch/arm/boot/dts/pwm_P8_13.dtsi
new file mode 100644
index 000000000000..32a15e5582c0
--- /dev/null
+++ b/arch/arm/boot/dts/pwm_P8_13.dtsi
@@ -0,0 +1,28 @@
+&am33xx_pinmux {
+    bbb_pwm_P8_13_pins: bbb_pwm_P8_13_pins {
+        pinctrl-single,pins = <0x024  0x4>; /* P8_13 (ZCZ ball T10) | MODE 4 */
+    };
+};
+
+&ehrpwm2 {
+    status = "okay";
+};
+
+&epwmss2 {
+    status = "okay";
+};
+
+/ {
+    bbb-pwm@123 {
+        compatible  = "tfe,bbb_pwm-1.00.a";
+        pwms        = <&ehrpwm2 1 0 1>;
+        pwm-names   = "PWM_P8_13";
+
+        pinctrl-names   = "default";
+        pinctrl-0   = <&bbb_pwm_P8_13_pins>;
+
+        enabled     = <0>;
+        duty        = <0>;
+        status      = "okay";
+    };
+};
-- 
2.17.1

